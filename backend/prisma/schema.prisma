<<<<<<< HEAD
=======
// SCOUT21PRO - Schema Prisma
// Baseado nos 9 prompts de alinhamento com a landing page
// Criado em: 2026-01-09

>>>>>>> landingPage
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

<<<<<<< HEAD
model Role {
  id          String   @id @default(uuid())
  name        String   @unique @db.VarChar(50)
  description String?
  createdAt   DateTime @default(now()) @map("created_at")
  users       User[]

  @@map("roles")
}

model User {
  id           String   @id @default(uuid())
  email        String   @unique @db.VarChar(255)
  passwordHash String   @map("password_hash") @db.VarChar(255)
  name         String   @db.VarChar(255)
  photoUrl     String?  @map("photo_url")
  roleId       String   @map("role_id")
  isActive     Boolean  @default(true) @map("is_active")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")
  clube        Clube?
  tecnico      Tecnico?
  role         Role     @relation(fields: [roleId], references: [id])

  @@map("users")
}

model Tecnico {
  id                   String     @id @default(uuid())
  userId               String     @unique @map("user_id")
  nome                 String     @db.VarChar(255)
  cpf                  String?    @unique @db.VarChar(14)
  registroProfissional String?    @map("registro_profissional") @db.VarChar(50)
  createdAt            DateTime   @default(now()) @map("created_at")
  equipes              Equipe[]
  user                 User       @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("tecnicos")
}

model Clube {
  id          String   @id @default(uuid())
  userId      String   @unique @map("user_id")
  razaoSocial String   @map("razao_social") @db.VarChar(255)
  cnpj        String   @unique @db.VarChar(18)
  cidade      String?  @db.VarChar(100)
  estado      String?  @db.VarChar(2)
  createdAt   DateTime @default(now()) @map("created_at")
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  equipes     Equipe[]

  @@map("clubes")
}

model Equipe {
  id                String              @id @default(uuid())
  nome              String              @db.VarChar(255)
  categoria         String?             @db.VarChar(50)
  temporada         String?             @db.VarChar(20)
  tecnicoId         String              @map("tecnico_id")
  clubeId           String?             @map("clube_id")
  createdAt         DateTime            @default(now()) @map("created_at")
  campeonatos       Campeonato[]
  clube             Clube?              @relation(fields: [clubeId], references: [id])
  tecnico           Tecnico             @relation(fields: [tecnicoId], references: [id])
  jogadores         EquipesJogadores[]
  jogos             Jogo[]
  metasEstatisticas MetasEstatisticas[]
  programacoes      Programacao[]

  @@index([tecnicoId])
  @@index([clubeId])
  @@map("equipes")
}

model Jogador {
  id                  String                     @id @default(uuid())
  nome                String                     @db.VarChar(255)
  apelido             String?                    @db.VarChar(100)
  dataNascimento      DateTime?                  @map("data_nascimento") @db.Date
  idade               Int?                       @db.SmallInt
  funcaoEmQuadra      String?                    @map("funcao_em_quadra") @db.VarChar(50)
  numeroCamisa        Int?                       @map("numero_camisa") @db.SmallInt
  peDominante         String?                    @map("pe_dominante") @db.VarChar(20)
  altura              Decimal?                   @db.Decimal(5, 2)
  peso                Decimal?                   @db.Decimal(5, 2)
  ultimoClube         String?                    @map("ultimo_clube") @db.VarChar(255)
  fotoUrl             String?                    @map("foto_url")
  isTransferido       Boolean                    @default(false) @map("is_transferido")
  dataTransferencia   DateTime?                  @map("data_transferencia") @db.Date
  isAtivo             Boolean                    @default(true) @map("is_ativo")
  createdAt           DateTime                   @default(now()) @map("created_at")
  updatedAt           DateTime                   @updatedAt @map("updated_at")
  avaliacoesFisicas   AvaliacaoFisica[]
  equipes             EquipesJogadores[]
  estatisticasJogador JogosEstatisticasJogador[]
  eventos             JogosEventos[]
  lesoes              Lesao[]

  @@map("jogadores")
}

model EquipesJogadores {
  id         String    @id @default(uuid())
  equipeId   String    @map("equipe_id")
  jogadorId  String    @map("jogador_id")
  dataInicio DateTime  @map("data_inicio") @db.Date
  dataFim    DateTime? @map("data_fim") @db.Date
  createdAt  DateTime  @default(now()) @map("created_at")
  equipe     Equipe    @relation(fields: [equipeId], references: [id], onDelete: Cascade)
  jogador    Jogador   @relation(fields: [jogadorId], references: [id], onDelete: Cascade)

  @@unique([equipeId, jogadorId, dataInicio])
  @@index([equipeId])
  @@index([jogadorId])
  @@map("equipes_jogadores")
}

model Jogo {
  id                  String                     @id @default(uuid())
  equipeId            String                     @map("equipe_id")
  adversario          String                     @db.VarChar(255)
  data                DateTime                   @db.Date
  campeonato          String?                    @db.VarChar(255)
  competicaoId        String?                    @map("competicao_id")
  local               String?                    @db.VarChar(255)
  resultado           String?                    @db.Char(1)
  golsPro             Int                        @default(0) @map("gols_pro")
  golsContra          Int                        @default(0) @map("gols_contra")
  videoUrl            String?                    @map("video_url")
  createdAt           DateTime                   @default(now()) @map("created_at")
  campeonatosJogos    CampeonatosJogos[]
  competicao          Competicao?                @relation(fields: [competicaoId], references: [id])
  equipe              Equipe                     @relation(fields: [equipeId], references: [id])
  estatisticasEquipe  JogosEstatisticasEquipe?
  estatisticasJogador JogosEstatisticasJogador[]
  eventos             JogosEventos[]

  @@index([equipeId, data(sort: Desc)])
  @@index([competicaoId])
  @@map("jogos")
}

model JogosEstatisticasEquipe {
  id                     String @id @default(uuid())
  jogoId                 String @unique @map("jogo_id")
  minutosJogados         Int    @default(0) @map("minutos_jogados")
  gols                   Int    @default(0)
  golsSofridos           Int    @default(0) @map("gols_sofridos")
  assistencias           Int    @default(0)
  cartoesAmarelos        Int    @default(0) @map("cartoes_amarelos")
  cartoesVermelhos       Int    @default(0) @map("cartoes_vermelhos")
  passesCorretos         Int    @default(0) @map("passes_corretos")
  passesErrados          Int    @default(0) @map("passes_errados")
  passesErradosTransicao Int    @default(0) @map("passes_errados_transicao")
  desarmesComBola        Int    @default(0) @map("desarmes_com_bola")
  desarmesContraAtaque   Int    @default(0) @map("desarmes_contra_ataque")
  desarmesSemBola        Int    @default(0) @map("desarmes_sem_bola")
  chutesNoGol            Int    @default(0) @map("chutes_no_gol")
  chutesFora             Int    @default(0) @map("chutes_fora")
  rpePartida             Int?   @map("rpe_partida")
  golsMarcadosJogoAberto Int    @default(0) @map("gols_marcados_jogo_aberto")
  golsMarcadosBolaParada Int    @default(0) @map("gols_marcados_bola_parada")
  golsSofridosJogoAberto Int    @default(0) @map("gols_sofridos_jogo_aberto")
  golsSofridosBolaParada Int    @default(0) @map("gols_sofridos_bola_parada")
  jogo                   Jogo   @relation(fields: [jogoId], references: [id], onDelete: Cascade)

  @@map("jogos_estatisticas_equipe")
}

model JogosEstatisticasJogador {
  id                     String  @id @default(uuid())
  jogoId                 String  @map("jogo_id")
  jogadorId              String  @map("jogador_id")
  minutosJogados         Int     @default(0) @map("minutos_jogados")
  gols                   Int     @default(0)
  golsSofridos           Int     @default(0) @map("gols_sofridos")
  assistencias           Int     @default(0)
  cartoesAmarelos        Int     @default(0) @map("cartoes_amarelos")
  cartoesVermelhos       Int     @default(0) @map("cartoes_vermelhos")
  passesCorretos         Int     @default(0) @map("passes_corretos")
  passesErrados          Int     @default(0) @map("passes_errados")
  passesErradosTransicao Int     @default(0) @map("passes_errados_transicao")
  desarmesComBola        Int     @default(0) @map("desarmes_com_bola")
  desarmesContraAtaque   Int     @default(0) @map("desarmes_contra_ataque")
  desarmesSemBola        Int     @default(0) @map("desarmes_sem_bola")
  chutesNoGol            Int     @default(0) @map("chutes_no_gol")
  chutesFora             Int     @default(0) @map("chutes_fora")
  rpePartida             Int?    @map("rpe_partida")
  golsMarcadosJogoAberto Int     @default(0) @map("gols_marcados_jogo_aberto")
  golsMarcadosBolaParada Int     @default(0) @map("gols_marcados_bola_parada")
  golsSofridosJogoAberto Int     @default(0) @map("gols_sofridos_jogo_aberto")
  golsSofridosBolaParada Int     @default(0) @map("gols_sofridos_bola_parada")
  jogador                Jogador @relation(fields: [jogadorId], references: [id], onDelete: Cascade)
  jogo                   Jogo    @relation(fields: [jogoId], references: [id], onDelete: Cascade)

  @@unique([jogoId, jogadorId])
  @@index([jogoId])
  @@index([jogadorId])
  @@map("jogos_estatisticas_jogador")
}

model JogosEventos {
  id         String   @id @default(uuid())
  jogoId     String   @map("jogo_id")
  jogadorId  String   @map("jogador_id")
  tipoEvento String   @map("tipo_evento") @db.VarChar(10)
  minuto     Int
  segundo    Int
  createdAt  DateTime @default(now()) @map("created_at")
  jogador    Jogador  @relation(fields: [jogadorId], references: [id])
  jogo       Jogo     @relation(fields: [jogoId], references: [id], onDelete: Cascade)

  @@map("jogos_eventos")
}

model Lesao {
  id           String    @id @default(uuid())
  jogadorId    String    @map("jogador_id")
  data         DateTime  @db.Date
  dataInicio   DateTime  @map("data_inicio") @db.Date
  dataFim      DateTime? @map("data_fim") @db.Date
  tipo         String    @db.VarChar(100)
  localizacao  String    @db.VarChar(100)
  lado         String?   @db.VarChar(20)
  severidade   String?   @db.VarChar(50)
  origem       String?   @db.VarChar(20)
  diasAfastado Int?      @map("dias_afastado")
  createdAt    DateTime  @default(now()) @map("created_at")
  jogador      Jogador   @relation(fields: [jogadorId], references: [id], onDelete: Cascade)

  @@index([jogadorId, data(sort: Desc)])
  @@map("lesoes")
}

model AvaliacaoFisica {
  id              String   @id @default(uuid())
  jogadorId       String   @map("jogador_id")
  data            DateTime @db.Date
  peso            Decimal? @db.Decimal(5, 2)
  altura          Decimal? @db.Decimal(5, 2)
  gorduraCorporal Decimal? @map("gordura_corporal") @db.Decimal(5, 2)
  massaMuscular   Decimal? @map("massa_muscular") @db.Decimal(5, 2)
  vo2max          Decimal? @db.Decimal(5, 2)
  flexibilidade   Decimal? @db.Decimal(5, 2)
  velocidade      Decimal? @db.Decimal(5, 2)
  forca           Decimal? @db.Decimal(5, 2)
  agilidade       Decimal? @db.Decimal(5, 2)
  peitoral        Decimal? @db.Decimal(5, 2)
  axilar          Decimal? @db.Decimal(5, 2)
  subescapular    Decimal? @db.Decimal(5, 2)
  triceps         Decimal? @db.Decimal(5, 2)
  abdominal       Decimal? @db.Decimal(5, 2)
  suprailiaca     Decimal? @db.Decimal(5, 2)
  coxa            Decimal? @db.Decimal(5, 2)
  planoAcao       String?  @map("plano_acao")
  createdAt       DateTime @default(now()) @map("created_at")
  jogador         Jogador  @relation(fields: [jogadorId], references: [id], onDelete: Cascade)

  @@unique([jogadorId, data])
  @@index([jogadorId, data(sort: Desc)])
  @@map("avaliacoes_fisicas")
}

model Programacao {
  id         String             @id @default(uuid())
  equipeId   String             @map("equipe_id")
  titulo     String             @db.VarChar(255)
  dataInicio DateTime           @map("data_inicio") @db.Date
  dataFim    DateTime           @map("data_fim") @db.Date
  isAtivo    Boolean            @default(false) @map("is_ativo")
  createdAt  DateTime           @default(now()) @map("created_at")
  equipe     Equipe             @relation(fields: [equipeId], references: [id])
  dias       ProgramacoesDias[]

  @@index([equipeId, dataInicio])
  @@map("programacoes")
}

model ProgramacoesDias {
  id              String      @id @default(uuid())
  programacaoId   String      @map("programacao_id")
  data            DateTime    @db.Date
  diaSemana       String?     @map("dia_semana") @db.VarChar(20)
  diaSemanaNumero Int?        @map("dia_semana_numero")
  atividade       String?     @db.VarChar(255)
  horario         String?     @db.VarChar(10)
  localizacao     String?     @db.VarChar(255)
  observacoes     String?
  createdAt       DateTime    @default(now()) @map("created_at")
  programacao     Programacao @relation(fields: [programacaoId], references: [id], onDelete: Cascade)

  @@map("programacoes_dias")
}

model Campeonato {
  id        String             @id @default(uuid())
  nome      String             @db.VarChar(255)
  equipeId  String?            @map("equipe_id")
  createdAt DateTime           @default(now()) @map("created_at")
  equipe    Equipe?            @relation(fields: [equipeId], references: [id])
  jogos     CampeonatosJogos[]

  @@index([equipeId])
  @@map("campeonatos")
}

model CampeonatosJogos {
  id           String     @id @default(uuid())
  campeonatoId String     @map("campeonato_id")
  data         DateTime   @db.Date
  horario      String?    @db.VarChar(10)
  equipe       String     @db.VarChar(255)
  adversario   String     @db.VarChar(255)
  competicao   String?    @db.VarChar(255)
  jogoId       String?    @map("jogo_id")
  createdAt    DateTime   @default(now()) @map("created_at")
  campeonato   Campeonato @relation(fields: [campeonatoId], references: [id], onDelete: Cascade)
  jogo         Jogo?      @relation(fields: [jogoId], references: [id])

  @@index([jogoId])
  @@map("campeonatos_jogos")
}

model Competicao {
  id        String   @id @default(uuid())
  nome      String   @unique @db.VarChar(255)
  createdAt DateTime @default(now()) @map("created_at")
  jogos     Jogo[]

  @@map("competicoes")
}

model MetasEstatisticas {
  id                   String   @id @default(uuid())
  equipeId             String?  @map("equipe_id")
  gols                 Int      @default(0)
  assistencias         Int      @default(0)
  passesCorretos       Int      @default(0) @map("passes_corretos")
  passesErrados        Int      @default(0) @map("passes_errados")
  chutesNoGol          Int      @default(0) @map("chutes_no_gol")
  chutesFora           Int      @default(0) @map("chutes_fora")
  desarmesComPosse     Int      @default(0) @map("desarmes_com_posse")
  desarmesSemPosse     Int      @default(0) @map("desarmes_sem_posse")
  desarmesContraAtaque Int      @default(0) @map("desarmes_contra_ataque")
  errosTransicao       Int      @default(0) @map("erros_transicao")
  createdAt            DateTime @default(now()) @map("created_at")
  updatedAt            DateTime @updatedAt @map("updated_at")
  equipe               Equipe?  @relation(fields: [equipeId], references: [id])

  @@index([equipeId])
  @@map("metas_estatisticas")
=======
// ============================================
// MULTI-TENANCY: Clube como raiz de isolamento
// ============================================

model Clube {
  id        String   @id @default(uuid())
  name      String
  logoUrl   String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  // Relacionamentos
  users     User[]
  teams     Team[]
  competitions Competition[]

  @@index([deletedAt])
  @@map("clubes")
}

// ============================================
// USUÁRIOS E COMISSÃO TÉCNICA
// ============================================

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  name      String
  passwordHash String
  role      String   // Treinador, Preparador Físico, Supervisor, Diretor, etc.
  photoUrl  String?
  
  // Multi-tenancy
  clubeId   String
  clube     Clube    @relation(fields: [clubeId], references: [id], onDelete: Cascade)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  // Relacionamentos
  teamMemberships TeamMember[]
  schedules       Schedule[]
  matches         Match[]
  scoutIndividual ScoutIndividual[]

  @@index([clubeId, deletedAt])
  @@index([email])
  @@map("users")
}

// ============================================
// GESTÃO DE EQUIPE
// ============================================

model Team {
  id        String   @id @default(uuid())
  name      String
  type      String   // Adulta, Base, Universitária
  category  String?  // Categoria específica (ex: Sub-20, Sub-17)
  
  // Multi-tenancy
  clubeId   String
  clube     Clube    @relation(fields: [clubeId], references: [id], onDelete: Cascade)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  // Relacionamentos
  teamMemberships TeamMember[]
  playerTeams     PlayerTeam[]
  schedules       Schedule[]
  matches         Match[]

  @@index([clubeId, deletedAt])
  @@index([type])
  @@map("teams")
}

// ============================================
// ATLETAS
// ============================================

model Player {
  id            String   @id @default(uuid())
  name          String
  nickname      String?
  dateOfBirth   DateTime?
  cpf           String?  @unique // Dados sensíveis
  photoUrl      String?
  
  // Características físicas
  height        Int?     // em cm
  weight        Float?
  position      String   // Goleiro, Fixo, Ala, Pivô, etc.
  dominantFoot  String?  // Destro, Canhoto, Ambidestro
  jerseyNumber  Int?
  
  // Dados profissionais (sensíveis)
  lastClub      String?
  isTransferred Boolean  @default(false)
  transferDate  DateTime?
  salary        Decimal? @db.Decimal(10, 2) // Dados sensíveis
  salaryStartDate DateTime?
  salaryEndDate   DateTime?
  
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  deletedAt     DateTime?

  // Relacionamentos
  playerTeams          PlayerTeam[]
  scheduleParticipants ScheduleParticipant[]
  matchParticipants   MatchParticipant[]
  scoutIndividual     ScoutIndividual[]
  assessments         Assessment[]

  @@index([deletedAt])
  @@index([position])
  @@index([jerseyNumber])
  @@map("players")
}

// Relacionamento Muitos-para-Muitos: Player ↔ Team
model PlayerTeam {
  id        String   @id @default(uuid())
  
  playerId  String
  player    Player   @relation(fields: [playerId], references: [id], onDelete: Cascade)
  
  teamId    String
  team      Team     @relation(fields: [teamId], references: [id], onDelete: Cascade)
  
  // Temporalidade
  startDate DateTime @default(now())
  endDate   DateTime?
  status    String   @default("active") // active, inactive, transferred
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([playerId, teamId, startDate])
  @@index([playerId])
  @@index([teamId])
  @@index([status])
  @@map("player_teams")
}

// Relacionamento Muitos-para-Muitos: User ↔ Team (Comissão Técnica)
model TeamMember {
  id        String   @id @default(uuid())
  
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  teamId    String
  team      Team     @relation(fields: [teamId], references: [id], onDelete: Cascade)
  
  // Permissões
  role      String   // Treinador, Preparador Físico, etc.
  permissions String? // JSON com permissões específicas
  
  // Temporalidade
  startDate DateTime @default(now())
  endDate   DateTime?
  status    String   @default("active") // active, inactive
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([userId, teamId, startDate])
  @@index([userId])
  @@index([teamId])
  @@index([status])
  @@map("team_members")
}

// ============================================
// PROGRAMAÇÃO (Treinos, Jogos, Convocações)
// ============================================

model Schedule {
  id          String   @id @default(uuid())
  type        String   // treino, jogo, convocacao
  title       String
  description String?
  
  // Data e local
  date        DateTime
  time        String?
  location    String?
  isHome      Boolean? // Para jogos: mandante ou visitante
  
  // Multi-tenancy e equipe
  teamId      String
  team        Team     @relation(fields: [teamId], references: [id], onDelete: Cascade)
  
  // Criador
  createdById String
  createdBy   User     @relation(fields: [createdById], references: [id])
  
  // Status
  status      String   @default("scheduled") // scheduled, in_progress, completed, cancelled
  
  // Para jogos
  opponent    String?
  competitionId String?
  competition   Competition? @relation(fields: [competitionId], references: [id], onDelete: SetNull)
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  deletedAt   DateTime?

  // Relacionamentos
  scheduleParticipants ScheduleParticipant[]
  match                Match?

  @@index([teamId, date, deletedAt])
  @@index([type, date])
  @@index([status])
  @@index([createdById])
  @@map("schedules")
}

// Participantes de uma programação (atletas convocados)
model ScheduleParticipant {
  id         String   @id @default(uuid())
  
  scheduleId String
  schedule   Schedule @relation(fields: [scheduleId], references: [id], onDelete: Cascade)
  
  playerId   String
  player     Player   @relation(fields: [playerId], references: [id], onDelete: Cascade)
  
  // Status de participação
  status     String   @default("pending") // pending, confirmed, present, absent
  
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@unique([scheduleId, playerId])
  @@index([scheduleId])
  @@index([playerId])
  @@map("schedule_participants")
}

// ============================================
// JOGO COMO EVENTO CENTRAL
// ============================================

model Match {
  id        String   @id @default(uuid())
  
  // Herda de Schedule (jogo é um tipo de programação)
  scheduleId String  @unique
  schedule    Schedule @relation(fields: [scheduleId], references: [id], onDelete: Cascade)
  
  // Dados do jogo
  opponent  String
  isHome    Boolean  // mandante ou visitante
  
  // Resultado
  ourScore  Int?
  opponentScore Int?
  result    String? // Vitória, Derrota, Empate
  
  // Multi-tenancy e equipe
  teamId    String
  team      Team     @relation(fields: [teamId], references: [id], onDelete: Cascade)
  
  // Competição
  competitionId String?
  competition   Competition? @relation(fields: [competitionId], references: [id], onDelete: SetNull)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  // Relacionamentos
  matchParticipants MatchParticipant[]
  scoutCollective   ScoutCollective?
  scoutIndividual   ScoutIndividual[]

  @@index([teamId, deletedAt])
  @@index([competitionId])
  @@index([result])
  @@map("matches")
}

// Participação de atletas no jogo
model MatchParticipant {
  id        String   @id @default(uuid())
  
  matchId   String
  match     Match    @relation(fields: [matchId], references: [id], onDelete: Cascade)
  
  playerId  String
  player    Player   @relation(fields: [playerId], references: [id], onDelete: Cascade)
  
  // Escalação
  status    String   // titular, reserva, nao_relacionado
  position  String?   // Posição em campo
  
  // Entradas e saídas
  entryMinute Int?
  exitMinute  Int?
  minutesPlayed Int? // Minutos jogados
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([matchId, playerId])
  @@index([matchId])
  @@index([playerId])
  @@map("match_participants")
}

// ============================================
// SCOUT DE JOGO
// ============================================

// Scout Coletivo (dados da equipe)
model ScoutCollective {
  id        String   @id @default(uuid())
  
  matchId   String   @unique
  match     Match    @relation(fields: [matchId], references: [id], onDelete: Cascade)
  
  // Estatísticas coletivas numéricas
  possessionPercent  Decimal? @db.Decimal(5, 2)
  shotsOn            Int?
  shotsOff           Int?
  passesCorrect      Int?
  passesWrong        Int?
  tackles            Int?
  transitionErrors   Int?
  foulsCommitted     Int?
  foulsSuffered      Int?
  yellowCards        Int?
  redCards           Int?
  
  // Dados qualitativos
  teamRating         Decimal? @db.Decimal(3, 2) // Nota 0-10
  observations       String?  @db.Text
  tacticalAnalysis   String?  @db.Text
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([matchId])
  @@map("scout_collective")
}

// Scout Individual (dados por atleta)
model ScoutIndividual {
  id        String   @id @default(uuid())
  
  matchId   String
  match     Match    @relation(fields: [matchId], references: [id], onDelete: Cascade)
  
  playerId  String
  player    Player   @relation(fields: [playerId], references: [id], onDelete: Cascade)
  
  // Criador do scout
  createdById String
  createdBy   User     @relation(fields: [createdById], references: [id])
  
  // Estatísticas ofensivas
  goals     Int      @default(0)
  assists   Int      @default(0)
  shotsOn   Int      @default(0)
  shotsOff  Int      @default(0)
  
  // Estatísticas de passe
  passesCorrect Int  @default(0)
  passesWrong   Int  @default(0)
  
  // Estatísticas defensivas
  tacklesPossession    Int @default(0)
  tacklesNoPossession  Int @default(0)
  tacklesCounter       Int @default(0)
  transitionErrors     Int @default(0)
  
  // Outras estatísticas
  foulsCommitted Int   @default(0)
  foulsSuffered  Int   @default(0)
  yellowCards    Int   @default(0)
  redCards       Int   @default(0)
  
  // Dados qualitativos
  rating      Decimal? @db.Decimal(3, 2) // Nota 0-10
  observations String? @db.Text
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@unique([matchId, playerId])
  @@index([matchId])
  @@index([playerId])
  @@index([createdById])
  @@map("scout_individual")
}

// ============================================
// COMPETIÇÕES E CAMPEONATOS
// ============================================

model Competition {
  id        String   @id @default(uuid())
  name      String
  
  // Multi-tenancy
  clubeId   String
  clube     Clube    @relation(fields: [clubeId], references: [id], onDelete: Cascade)
  
  type      String?  // Campeonato Estadual, Copa Regional, etc.
  season    String?  // Temporada (ex: 2024, 2025)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  // Relacionamentos
  schedules Schedule[]
  matches   Match[]

  @@index([clubeId, deletedAt])
  @@index([name])
  @@map("competitions")
}

// ============================================
// AVALIAÇÕES
// ============================================

model Assessment {
  id        String   @id @default(uuid())
  
  playerId  String
  player    Player   @relation(fields: [playerId], references: [id], onDelete: Cascade)
  
  type      String   // física, tecnica
  
  // Dados da avaliação (JSON flexível para diferentes tipos)
  data      Json     // Dados específicos da avaliação
  
  // Dados qualitativos
  notes     String?  @db.Text
  rating    Decimal? @db.Decimal(3, 2)
  
  date      DateTime
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  @@index([playerId, date, deletedAt])
  @@index([type])
  @@map("assessments")
}

// ============================================
// CONFIGURAÇÕES E METAS
// ============================================

model StatTarget {
  id        String   @id @default(uuid())
  
  // Multi-tenancy (pode ser por clube ou por equipe)
  clubeId   String?
  teamId    String?
  
  // Metas de estatísticas
  goals             Int @default(3)
  assists           Int @default(3)
  passesCorrect     Int @default(30)
  passesWrong       Int @default(5)
  shotsOn           Int @default(8)
  shotsOff          Int @default(5)
  tacklesPossession Int @default(10)
  tacklesNoPossession Int @default(10)
  tacklesCounter    Int @default(5)
  transitionError   Int @default(2)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([clubeId])
  @@index([teamId])
  @@map("stat_targets")
>>>>>>> landingPage
}
